{"version":3,"file":"js/app.ff72ea8e.js","mappings":"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","sources":["webpack://doodler-vue/./src/App.vue","webpack://doodler-vue/./src/App.vue?7ccd","webpack://doodler-vue/./src/main.js","webpack://doodler-vue/webpack/bootstrap","webpack://doodler-vue/webpack/runtime/chunk loaded","webpack://doodler-vue/webpack/runtime/compat get default export","webpack://doodler-vue/webpack/runtime/define property getters","webpack://doodler-vue/webpack/runtime/global","webpack://doodler-vue/webpack/runtime/hasOwnProperty shorthand","webpack://doodler-vue/webpack/runtime/make namespace object","webpack://doodler-vue/webpack/runtime/jsonp chunk loading","webpack://doodler-vue/webpack/startup"],"sourcesContent":["<template>\r\n\t<div id=\"main\">\r\n\t\t<div id=\"controls\">\r\n\t\t\t<div id=\"file-chooser-container\">\r\n\t\t\t\t<label id=\"file-chooser-label\" class=\"button\"\r\n\t\t\t\t\t>Choose Image File\r\n\t\t\t\t\t<input type=\"file\" id=\"image-file-chooser\" @change=\"setImageFile\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<br />\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"isImageLoaded\" class=\"control-section\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tname=\"contrast-type\"\r\n\t\t\t\t\t\t\tvalue=\"hue\"\r\n\t\t\t\t\t\t\tid=\"contrast-type-hue\"\r\n\t\t\t\t\t\t\t@change=\"updateContrast\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tHue\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tname=\"contrast-type\"\r\n\t\t\t\t\t\t\tvalue=\"sat\"\r\n\t\t\t\t\t\t\tid=\"contrast-type-sat\"\r\n\t\t\t\t\t\t\t@change=\"updateContrast\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tSaturation\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tname=\"contrast-type\"\r\n\t\t\t\t\t\t\tvalue=\"val\"\r\n\t\t\t\t\t\t\tid=\"contrast-type-val\"\r\n\t\t\t\t\t\t\tchecked\r\n\t\t\t\t\t\t\t@change=\"updateContrast\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tValue\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"slider-container\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tCutoff\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\tvalue=\"50\"\r\n\t\t\t\t\t\t\tclass=\"slider\"\r\n\t\t\t\t\t\t\tid=\"contrast-range\"\r\n\t\t\t\t\t\t\t@click=\"updateContrast\"\r\n\t\t\t\t\t\t\t@change=\"updateContrast\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"isContrastComputed\" class=\"control-section\">\r\n\t\t\t\t<div>Edge detection algorithm</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tname=\"edge-detection-type\"\r\n\t\t\t\t\t\t\tvalue=\"simple\"\r\n\t\t\t\t\t\t\tid=\"edge-detection-type-simple\"\r\n\t\t\t\t\t\t\t@change=\"setEdgeDetectionType\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tSimple\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tname=\"edge-detection-type\"\r\n\t\t\t\t\t\t\tvalue=\"canny\"\r\n\t\t\t\t\t\t\tid=\"edge-detection-type-canny\"\r\n\t\t\t\t\t\t\t@change=\"setEdgeDetectionType\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tCanny\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tname=\"edge-detection-type\"\r\n\t\t\t\t\t\t\tvalue=\"none\"\r\n\t\t\t\t\t\t\tid=\"edge-detection-type-none\"\r\n\t\t\t\t\t\t\t@change=\"setEdgeDetectionType\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tNone\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div v-if=\"isShowCannyParams\" id=\"canny-params\">\r\n\t\t\t\t\t\t<div id=\"hysteresis-threshold-range-container\">\r\n\t\t\t\t\t\t\tHysteresis thresholds <br />\r\n\t\t\t\t\t\t\t<div id=\"hysteresis-threshold-range\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tGaussian blur sigma: {{ gaussianSigma.toFixed(2) }}<br />\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\tmax=\"100\"\r\n\t\t\t\t\t\t\t\tclass=\"slider\"\r\n\t\t\t\t\t\t\t\tid=\"gaussian-sigma-range\"\r\n\t\t\t\t\t\t\t\t@input=\"setGaussianSigmaRange\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"detect-edges-button\" class=\"button\" @click=\"detectEdges\">\r\n\t\t\t\t\tDetect Edges\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"isEdgesComputed\" class=\"control-section\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tv-if=\"isContourDrawn\"\r\n\t\t\t\t\tid=\"save-image-button\"\r\n\t\t\t\t\tclass=\"button\"\r\n\t\t\t\t\t@click=\"saveImage\"\r\n\t\t\t\t>\r\n\t\t\t\t\tSave Image\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tRadius: {{ contourRadius }}<br />\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\tmin=\"2\"\r\n\t\t\t\t\t\t\tmax=\"20\"\r\n\t\t\t\t\t\t\t:value=\"contourRadius\"\r\n\t\t\t\t\t\t\tclass=\"slider\"\r\n\t\t\t\t\t\t\tid=\"contour-radius-range\"\r\n\t\t\t\t\t\t\t@input=\"setContourRadiusRange\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input id=\"fuzzy-contours-checkbox\" type=\"checkbox\" />\r\n\t\t\t\t\t\tFuzzy contours?\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div id=\"draw-contours-button\" class=\"button\" @click=\"drawContours\">\r\n\t\t\t\t\t\tDraw Contours\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"reset-button\" class=\"button\" @click=\"reset\">Reset</div>\r\n\t\t\t<div id=\"spinner\" v-if=\"isInProgress\">\r\n\t\t\t\t<img src=\"spinner.gif\" />\r\n\t\t\t</div>\r\n\t\t\t<!-- \t\t<div id=\"progress-container\"> -->\r\n\t\t\t<!-- \t\t\t<div id=\"progress\"></div> -->\r\n\t\t\t<!-- \t\t</div> -->\r\n\t\t</div>\r\n\t\t<div id=\"output\">\r\n\t\t\t<canvas id=\"preview-canvas\" width=\"300\" height=\"600\"></canvas>\r\n\t\t</div>\r\n\t\t<canvas id=\"input-canvas\" width=\"300\" height=\"600\"></canvas>\r\n\t\t<canvas id=\"output-canvas\"></canvas>\r\n\t\t<img id=\"input-image\" class=\"hidden\" />\r\n\t\t<img id=\"edge-image\" class=\"hidden\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport CannyEdgeDetector from 'canny-edge-detector';\r\nimport Image from 'image-js';\r\n\r\nconst gaussianSigmaDefault = 1.1;\r\nconst black = '#000000';\r\nconst white = '#ffffff';\r\n\r\nconst hysteresisThresholds = {\r\n\tlow: 10,\r\n\thigh: 30,\r\n};\r\n\r\nexport default {\r\n\tname: 'App',\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisInProgress: false,\r\n\t\t\tisImageLoaded: false,\r\n\t\t\tisContrastComputed: false,\r\n\t\t\tisShowCannyParams: false,\r\n\t\t\tisEdgesComputed: false,\r\n\t\t\tisContourDrawn: false,\r\n\t\t\tgaussianSigma: gaussianSigmaDefault,\r\n\t\t\tcontourRadius: 6,\r\n\t\t\tedgeDetectionType: 'simple',\r\n\r\n\t\t\tpreviewContext: null,\r\n\t\t\toutputContext: null,\r\n\t\t\tinputContext: null,\r\n\t\t\tinputCanvas: null,\r\n\t\t\tpreviewCanvas: null,\r\n\r\n\t\t\tedgePoints: [],\r\n\t\t\timg: null,\r\n\t\t\tedgeImg: null,\r\n\t\t};\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tsaveImage() {\r\n\t\t\tconst link = document.createElement('a');\r\n\t\t\tconst base64 = this.outputCanvas.toDataURL();\r\n\t\t\tlink.setAttribute('href', base64);\r\n\t\t\tlink.setAttribute('download', 'contour-doodler-output.png');\r\n\t\t\t//\t\tlink.setAttribute(\"target\", \"_blank\");\r\n\t\t\tlink.click();\r\n\t\t\tthis.copyToPreview();\r\n\t\t\tconsole.log('saved');\r\n\t\t},\r\n\r\n\t\tdrawContours() {\r\n\t\t\tthis.isContourDrawn = false;\r\n\t\t\tthis.isInProgress = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tconst radius = this.contourRadius;\r\n\t\t\t\tconst isFuzzy = document.getElementById(\r\n\t\t\t\t\t'fuzzy-contours-checkbox'\r\n\t\t\t\t).checked;\r\n\t\t\t\tthis.outputContext.fillStyle = black;\r\n\t\t\t\tfor (const point of this.edgePoints) {\r\n\t\t\t\t\tif (isFuzzy) {\r\n\t\t\t\t\t\tconst grd = this.outputContext.createRadialGradient(\r\n\t\t\t\t\t\t\tpoint[0],\r\n\t\t\t\t\t\t\tpoint[1],\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\tpoint[0],\r\n\t\t\t\t\t\t\tpoint[1],\r\n\t\t\t\t\t\t\tradius\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tgrd.addColorStop(0, black);\r\n\t\t\t\t\t\tgrd.addColorStop(1, 'rgba(255, 255, 255, 0)');\r\n\t\t\t\t\t\tthis.outputContext.fillStyle = grd;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.outputContext.beginPath();\r\n\t\t\t\t\tthis.outputContext.arc(point[0], point[1], radius, 0, 2 * Math.PI);\r\n\t\t\t\t\tthis.outputContext.fill();\r\n\t\t\t\t}\r\n\t\t\t\tfor (const point of this.edgePoints) {\r\n\t\t\t\t\tthis.setPixel(this.outputContext, point[0], point[1], white);\r\n\t\t\t\t}\r\n\t\t\t\tthis.isInProgress = false;\r\n\t\t\t\tthis.copyToPreview();\r\n\t\t\t\tthis.isContourDrawn = true;\r\n\t\t\t}, 0);\r\n\t\t},\r\n\r\n\t\treset() {\r\n\t\t\tthis.isContrastComputed = false;\r\n\t\t\tthis.isEdgesComputed = false;\r\n\t\t\tthis.isContourDrawn = false;\r\n\t\t\tthis.previewContext.clearRect(\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tthis.previewCanvas.width,\r\n\t\t\t\tthis.previewCanvas.height\r\n\t\t\t);\r\n\t\t\tthis.outputContext.clearRect(\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tthis.outputCanvas.width,\r\n\t\t\t\tthis.outputCanvas.height\r\n\t\t\t);\r\n\t\t\tthis.repaint();\r\n\t\t},\r\n\r\n\t\tdetectEdges() {\r\n\t\t\tconst edgeAlgorithm = this.edgeDetectionType;\r\n\t\t\tthis.isInProgress = true;\r\n\t\t\tthis.isEdgesComputed = false;\r\n\t\t\tthis.isContourDrawn = false;\r\n\t\t\tsetTimeout(async () => {\r\n\t\t\t\tif (edgeAlgorithm == 'none') {\r\n\t\t\t\t\tthis.edgePoints = [];\r\n\t\t\t\t\tconst imageData = this.outputContext.getImageData(\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\tthis.outputCanvas.width,\r\n\t\t\t\t\t\tthis.outputCanvas.height\r\n\t\t\t\t\t);\r\n\t\t\t\t\tfor (let x = 0; x < this.outputCanvas.width; x++) {\r\n\t\t\t\t\t\tfor (let y = 0; y < this.outputCanvas.height; y++) {\r\n\t\t\t\t\t\t\tif (this.isBlack(this.getPixel(imageData, x, y))) {\r\n\t\t\t\t\t\t\t\tthis.edgePoints.push([x, y]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.isEdgesComputed = true;\r\n\t\t\t\t\tthis.isInProgress = false;\r\n\t\t\t\t} else if (edgeAlgorithm == 'canny') {\r\n\t\t\t\t\tconst image = await Image.load(this.outputCanvas.toDataURL());\r\n\t\t\t\t\tconst gray = image.gray();\r\n\t\t\t\t\tconst options = {\r\n\t\t\t\t\t\tgaussianBlur: this.gaussianSigma,\r\n\t\t\t\t\t\tlowThreshold: hysteresisThresholds.low,\r\n\t\t\t\t\t\thighThreshold: hysteresisThresholds.high,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst edge = CannyEdgeDetector(gray, options);\r\n\t\t\t\t\tthis.edgeImg.src = edge.toDataURL();\r\n\t\t\t\t} else if (edgeAlgorithm == 'simple') {\r\n\t\t\t\t\tthis.edgePoints = [];\r\n\t\t\t\t\tconst imageData = this.outputContext.getImageData(\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\tthis.outputCanvas.width,\r\n\t\t\t\t\t\tthis.outputCanvas.height\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.outputContext.fillStyle = white;\r\n\t\t\t\t\tthis.outputContext.fillRect(\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\tthis.outputCanvas.width,\r\n\t\t\t\t\t\tthis.outputCanvas.height\r\n\t\t\t\t\t);\r\n\t\t\t\t\tfor (let x = 1; x < this.outputCanvas.width - 1; x++) {\r\n\t\t\t\t\t\tfor (let y = 1; y < this.outputCanvas.height - 1; y++) {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\tthis.isWhite(this.getPixel(imageData, x, y)) &&\r\n\t\t\t\t\t\t\t\t(this.isBlack(this.getPixel(imageData, x - 1, y)) ||\r\n\t\t\t\t\t\t\t\t\tthis.isBlack(this.getPixel(imageData, x + 1, y)) ||\r\n\t\t\t\t\t\t\t\t\tthis.isBlack(this.getPixel(imageData, x, y - 1)) ||\r\n\t\t\t\t\t\t\t\t\tthis.isBlack(this.getPixel(imageData, x, y + 1)))\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tthis.edgePoints.push([x, y]);\r\n\t\t\t\t\t\t\t\tthis.setPixel(this.outputContext, x, y, black);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.isEdgesComputed = true;\r\n\t\t\t\t\tthis.copyToPreview();\r\n\t\t\t\t\tthis.isInProgress = false;\r\n\t\t\t\t}\r\n\t\t\t}, 0);\r\n\t\t},\r\n\r\n\t\tsetEdgeDetectionType() {\r\n\t\t\tthis.isEdgesComputed = false;\r\n\t\t\tthis.isContourDrawn = false;\r\n\t\t\tthis.edgeDetectionType = document.querySelector(\r\n\t\t\t\t\"[name='edge-detection-type']:checked\"\r\n\t\t\t).value;\r\n\t\t\tthis.isShowCannyParams = this.edgeDetectionType == 'canny';\r\n\t\t\tif (this.isShowCannyParams) {\r\n\t\t\t\tsetTimeout(this.initHysteresisRange, 0);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetGaussianSigmaRange() {\r\n\t\t\tconst value = parseInt(\r\n\t\t\t\tdocument.getElementById('gaussian-sigma-range').value\r\n\t\t\t);\r\n\t\t\tthis.gaussianSigma = Math.pow(value / 50, 2);\r\n\t\t},\r\n\r\n\t\tsetContourRadiusRange() {\r\n\t\t\tconst value = parseInt(\r\n\t\t\t\tdocument.getElementById('contour-radius-range').value\r\n\t\t\t);\r\n\t\t\tthis.contourRadius = value;\r\n\t\t},\r\n\r\n\t\tsetImageFile() {\r\n\t\t\tthis.isImageLoaded = false;\r\n\t\t\tthis.isContrastComputed = false;\r\n\t\t\tthis.isEdgesComputed = false;\r\n\t\t\tthis.isContourDrawn = false;\r\n\t\t\tif (typeof window.FileReader !== 'function') {\r\n\t\t\t\talert(\r\n\t\t\t\t\t'The browser you are using sucks.\\nTry using Firefox or Chrome instead.'\r\n\t\t\t\t);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst input = document.getElementById('image-file-chooser');\r\n\t\t\tif (!input) {\r\n\t\t\t\talert('Failed to find the image-file-chooser element... somehow.');\r\n\t\t\t} else if (!input.files) {\r\n\t\t\t\talert(\r\n\t\t\t\t\t'The browser you are using sucks.\\nTry using Firefox or Chrome instead.'\r\n\t\t\t\t);\r\n\t\t\t} else if (!input.files[0]) {\r\n\t\t\t\talert(\"Please select a file before clicking 'Load'.\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.isInProgress = true;\r\n\t\t\t\tthis.previewContext.clearRect(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tthis.previewCanvas.width,\r\n\t\t\t\t\tthis.previewCanvas.height\r\n\t\t\t\t);\r\n\t\t\t\tconst file = input.files[0];\r\n\t\t\t\tconst fr = new FileReader();\r\n\t\t\t\tfr.onload = async () => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst image = await Image.load(fr.result);\r\n\t\t\t\t\t\tthis.img.src = image.toDataURL();\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tthis.isInProgress = false;\r\n\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\talert(\"Well that failed.\\n\\nMaybe this file isn't an image?\");\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tfr.readAsDataURL(file);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tupdateContrast() {\r\n\t\t\tthis.isContrastComputed = false;\r\n\t\t\tthis.isInProgress = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tconst contrast = parseInt(\r\n\t\t\t\t\tdocument.getElementById('contrast-range').value\r\n\t\t\t\t);\r\n\t\t\t\tconst imageData = this.inputContext.getImageData(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tthis.inputCanvas.width,\r\n\t\t\t\t\tthis.inputCanvas.height\r\n\t\t\t\t);\r\n\t\t\t\tconst contrastType = document.querySelector(\r\n\t\t\t\t\t\"[name='contrast-type']:checked\"\r\n\t\t\t\t).value;\r\n\t\t\t\tlet cutoff = contrast / 100;\r\n\t\t\t\tif (contrastType == 'val') {\r\n\t\t\t\t\tcutoff *= 1 << 8;\r\n\t\t\t\t}\r\n\t\t\t\t//\t\t\tconsole.log(\"cutoff \", cutoff);\r\n\t\t\t\tlet offset = 0;\r\n\t\t\t\tfor (let y = 0; y < imageData.height; y++) {\r\n\t\t\t\t\t//\t\t\t\tsetProgress(y / imageData.height);\r\n\t\t\t\t\t//\t\t\t\tconsole.log(\"% done\", (y / imageData.height) * 100);\r\n\t\t\t\t\tfor (let x = 0; x < imageData.width; x++) {\r\n\t\t\t\t\t\tlet value;\r\n\t\t\t\t\t\tif (contrastType == 'val') {\r\n\t\t\t\t\t\t\t// turns out value is just max of R, G, B\r\n\t\t\t\t\t\t\tvalue = Math.max(\r\n\t\t\t\t\t\t\t\timageData.data[offset++],\r\n\t\t\t\t\t\t\t\timageData.data[offset++],\r\n\t\t\t\t\t\t\t\timageData.data[offset++]\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconst color = {\r\n\t\t\t\t\t\t\t\tred: imageData.data[offset++],\r\n\t\t\t\t\t\t\t\tgreen: imageData.data[offset++],\r\n\t\t\t\t\t\t\t\tblue: imageData.data[offset++],\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tconst hsv = this.rgb2hsv(color);\r\n\t\t\t\t\t\t\tif (contrastType == 'sat') {\r\n\t\t\t\t\t\t\t\tvalue = hsv[1];\r\n\t\t\t\t\t\t\t} else if (contrastType == 'hue') {\r\n\t\t\t\t\t\t\t\tvalue = hsv[0];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//\t\t\t\t\t\tif (Math.random() < 0.02) {\r\n\t\t\t\t\t\t\t//\t\t\t\t\t\t\tconsole.log(\"value \", value);\r\n\t\t\t\t\t\t\t//\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.setPixel(\r\n\t\t\t\t\t\t\tthis.outputContext,\r\n\t\t\t\t\t\t\tx,\r\n\t\t\t\t\t\t\ty,\r\n\t\t\t\t\t\t\tvalue < cutoff ? black : white\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t//\t\t\t\t\t// RGB\r\n\t\t\t\t\t\t//\t\t\t\t\t//\t\t\t\t\tconst offset = ((y * (imageData.width * 4)) + (x * 4));\r\n\t\t\t\t\t\t//\t\t\t\t\tconst color = [\r\n\t\t\t\t\t\t//\t\t\t\t\t\timageData.data[offset++],\r\n\t\t\t\t\t\t//\t\t\t\t\t\timageData.data[offset++],\r\n\t\t\t\t\t\t//\t\t\t\t\t\timageData.data[offset++]\r\n\t\t\t\t\t\t//\t\t\t\t\t];\r\n\t\t\t\t\t\t//\t\t\t\t\tcolor.alpha = imageData.data[((y * (imageData.width * 4)) + (x * 4)) + 3];\r\n\t\t\t\t\t\toffset++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//\t\t\tsetProgress(1);\r\n\r\n\t\t\t\tthis.copyToPreview();\r\n\r\n\t\t\t\tthis.isContrastComputed = true;\r\n\t\t\t\tthis.isInProgress = false;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdocument.querySelector(\r\n\t\t\t\t\t\t\"input[name='edge-detection-type']\"\r\n\t\t\t\t\t).checked = false;\r\n\t\t\t\t\tif (this.edgeDetectionType) {\r\n\t\t\t\t\t\tdocument.getElementById(\r\n\t\t\t\t\t\t\t'edge-detection-type-' + this.edgeDetectionType\r\n\t\t\t\t\t\t).checked = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.initHysteresisRange();\r\n\t\t\t\t}, 0);\r\n\t\t\t}, 40);\r\n\t\t},\r\n\r\n\t\trgb2hsv(color) {\r\n\t\t\tconst r = color.red / 255;\r\n\t\t\tconst g = color.green / 255;\r\n\t\t\tconst b = color.blue / 255;\r\n\t\t\tconst minRGB = Math.min(r, g, b);\r\n\t\t\tconst maxRGB = Math.max(r, g, b);\r\n\t\t\tconst computedV = maxRGB;\r\n\r\n\t\t\t// Black-gray-white\r\n\t\t\tif (minRGB == maxRGB) {\r\n\t\t\t\treturn [0, 0, computedV];\r\n\t\t\t}\r\n\r\n\t\t\t// Colors other than black-gray-white:\r\n\t\t\tconst d = r == minRGB ? g - b : b == minRGB ? r - g : b - r;\r\n\t\t\tconst h = r == minRGB ? 3 : b == minRGB ? 1 : 5;\r\n\t\t\tconst computedH = (h - d / (maxRGB - minRGB)) / 4;\r\n\t\t\tconst computedS = (maxRGB - minRGB) / maxRGB;\r\n\t\t\treturn [computedH, computedS, computedV];\r\n\t\t},\r\n\r\n\t\tgetPixel(imageData, x, y) {\r\n\t\t\tlet offset = 4 * (y * imageData.width + x);\r\n\t\t\treturn {\r\n\t\t\t\tred: imageData.data[offset++],\r\n\t\t\t\tgreen: imageData.data[offset++],\r\n\t\t\t\tblue: imageData.data[offset++],\r\n\t\t\t\t//\t\talpha : imageData.data[offset],\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tsetPixel(context, x, y, color) {\r\n\t\t\tcontext.fillStyle = color;\r\n\t\t\tcontext.fillRect(x, y, 1, 1);\r\n\t\t},\r\n\r\n\t\tisBlack(pixel) {\r\n\t\t\treturn !this.isWhite(pixel);\r\n\t\t\t//\treturn pixel.red == 0 && pixel.green == 0 && pixel.blue == 0;\r\n\t\t},\r\n\r\n\t\tisWhite(pixel) {\r\n\t\t\treturn pixel.red == 255 && pixel.green == 255 && pixel.blue == 255;\r\n\t\t},\r\n\r\n\t\t// TODO\r\n\t\tinitHysteresisRange() {\r\n\t\t\t// document.getElementById('hysteresis-threshold-range').slider({\r\n\t\t\t// \trange: true,\r\n\t\t\t// \tmin: 0,\r\n\t\t\t// \tmax: 100,\r\n\t\t\t// \tvalues: [hysteresisThresholds.low, hysteresisThresholds.high],\r\n\t\t\t// \tslide: function (event, ui) {\r\n\t\t\t// \t\thysteresisThresholds.low = ui.values[0];\r\n\t\t\t// \t\thysteresisThresholds.high = ui.values[1];\r\n\t\t\t// \t\t// TODO?\r\n\t\t\t// \t\t// $($('.ui-slider-handle').get(0)).html(hysteresisThresholds.low);\r\n\t\t\t// \t\t// $($('.ui-slider-handle').get(1)).html(hysteresisThresholds.high);\r\n\t\t\t// \t},\r\n\t\t\t// });\r\n\t\t\t// TODO?\r\n\t\t\t// $($('.ui-slider-handle').get(0)).html(hysteresisThresholds.low);\r\n\t\t\t// $($('.ui-slider-handle').get(1)).html(hysteresisThresholds.high);\r\n\t\t},\r\n\r\n\t\trepaint() {\r\n\t\t\tconst imageDimensions = {\r\n\t\t\t\twidth: this.previewCanvas.width,\r\n\t\t\t\theight: (this.img.height * this.previewCanvas.width) / this.img.width,\r\n\t\t\t};\r\n\t\t\tthis.previewContext.drawImage(\r\n\t\t\t\tthis.img,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\timageDimensions.width,\r\n\t\t\t\timageDimensions.height\r\n\t\t\t);\r\n\t\t\tthis.inputCanvas.setAttribute('width', this.img.width);\r\n\t\t\tthis.inputCanvas.setAttribute('height', this.img.height);\r\n\t\t\tthis.outputCanvas.setAttribute('width', this.img.width);\r\n\t\t\tthis.outputCanvas.setAttribute('height', this.img.height);\r\n\r\n\t\t\tthis.inputContext.drawImage(\r\n\t\t\t\tthis.img,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tthis.img.width,\r\n\t\t\t\tthis.img.height\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tcopyToPreview() {\r\n\t\t\tthis.previewContext.drawImage(\r\n\t\t\t\tthis.outputCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tthis.outputCanvas.width,\r\n\t\t\t\tthis.outputCanvas.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tthis.previewCanvas.width,\r\n\t\t\t\t(this.img.height * this.previewCanvas.width) / this.img.width\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\r\n\tcomputed: {},\r\n\r\n\t// created() {\r\n\t// \tconsole.log('cannyEdgeDetector', cannyEdgeDetector);\r\n\t// \tconsole.log('Image', Image);\r\n\t// },\r\n\r\n\tmounted() {\r\n\t\tconsole.log('mounted');\r\n\t\tthis.img = document.getElementById('input-image');\r\n\t\tthis.edgeImg = document.getElementById('edge-image');\r\n\t\tthis.inputCanvas = document.getElementById('input-canvas');\r\n\t\tthis.previewCanvas = document.getElementById('preview-canvas');\r\n\t\tthis.outputCanvas = document.getElementById('output-canvas');\r\n\t\tthis.previewContext = this.previewCanvas.getContext('2d');\r\n\t\tthis.inputContext = this.inputCanvas.getContext('2d');\r\n\t\tthis.outputContext = this.outputCanvas.getContext('2d');\r\n\t\tfunction f(c) {\r\n\t\t\tconst width = parseInt(\r\n\t\t\t\twindow.getComputedStyle(document.getElementById('controls')).width\r\n\t\t\t);\r\n\t\t\tc.setAttribute('width', innerWidth - width - 60);\r\n\t\t\tc.setAttribute('height', innerHeight - 40);\r\n\t\t}\r\n\t\tf(this.inputCanvas);\r\n\t\tf(this.previewCanvas);\r\n\r\n\t\twindow.addEventListener('resize', () => {\r\n\t\t\tf(this.inputCanvas);\r\n\t\t\tf(this.previewCanvas);\r\n\t\t});\r\n\r\n\t\t// document\r\n\t\t// \t.getElementById('gaussian-sigma-range')\r\n\t\t// \t.val(50 * Math.sqrt(gaussianSigmaDefault));\r\n\r\n\t\tthis.img.onload = () => {\r\n\t\t\tthis.repaint();\r\n\t\t\t//\t\t\t\t\t\talert(previewCanvas.toDataURL(\"image/png\"));\r\n\t\t\tthis.isImageLoaded = true;\r\n\t\t\tthis.isInProgress = false;\r\n\t\t};\r\n\r\n\t\tthis.edgeImg.onload = () => {\r\n\t\t\tthis.outputContext.fillStyle = white;\r\n\t\t\tthis.outputContext.fillRect(\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tthis.outputCanvas.width,\r\n\t\t\t\tthis.outputCanvas.height\r\n\t\t\t);\r\n\t\t\tthis.outputContext.drawImage(\r\n\t\t\t\tthis.edgeImg,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tthis.outputCanvas.width,\r\n\t\t\t\tthis.outputCanvas.height\r\n\t\t\t);\r\n\r\n\t\t\tconst imageData = this.outputContext.getImageData(\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tthis.outputCanvas.width,\r\n\t\t\t\tthis.outputCanvas.height\r\n\t\t\t);\r\n\t\t\tfor (let x = 1; x < this.outputCanvas.width - 1; x++) {\r\n\t\t\t\tfor (let y = 1; y < this.outputCanvas.height - 1; y++) {\r\n\t\t\t\t\tif (this.isWhite(this.getPixel(imageData, x, y))) {\r\n\t\t\t\t\t\tthis.setPixel(this.outputContext, x, y, black);\r\n\t\t\t\t\t\tthis.edgePoints.push([x, y]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setPixel(this.previewContext, x, y, white);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.isEdgesComputed = true;\r\n\t\t\tthis.copyToPreview();\r\n\r\n\t\t\tthis.isInProgress = false;\r\n\t\t};\r\n\t},\r\n};\r\n</script>\r\n\r\n<style>\r\n/* \r\n#app {\r\n\tfont-family: Avenir, Helvetica, Arial, sans-serif;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\ttext-align: center;\r\n\tcolor: #2c3e50;\r\n\tmargin-top: 60px;\r\n} */\r\n\r\n#main {\r\n\tfont-family: Arial, Helvetica, sans-serif;\r\n}\r\n\r\n#controls {\r\n\ttext-align: center;\r\n\twidth: 300px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n\tmargin-right: 12px;\r\n\twidth: 300px;\r\n}\r\n\r\n.button {\r\n\tbackground-color: orange;\r\n\tborder-radius: 6px;\r\n\tpadding: 4px;\r\n\tmargin: 12px;\r\n\tmin-width: 100px;\r\n\tmax-width: 140px;\r\n\ttext-align: center;\r\n\tfont-weight: bold;\r\n\tcursor: pointer;\r\n\tborder-width: 2px;\r\n\tborder-color: #ddd;\r\n\tborder-style: solid;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.button:hover {\r\n\tbackground-color: #0059dd;\r\n\tcolor: white;\r\n}\r\n\r\n#main {\r\n\twidth: 100%;\r\n}\r\n\r\n#output {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n#preview-canvas {\r\n\tbackground-color: #eee;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n#input-canvas {\r\n\tdisplay: none;\r\n}\r\n\r\n#output-canvas {\r\n\tdisplay: none;\r\n}\r\n\r\n/* #file-chooser-container { */\r\n/* \tpadding-bottom: 16px; */\r\n/* } */\r\n#file-chooser-label [type='file'] {\r\n\tcursor: pointer;\r\n\tdisplay: block;\r\n\tfilter: alpha(opacity = 0);\r\n\tmin-width: 100%;\r\n\topacity: 0;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n}\r\n\r\n#spinner {\r\n\tdisplay: none;\r\n\ttext-align: center;\r\n\twidth: 100%;\r\n\tmargin-top: 18px;\r\n}\r\n\r\n.control-section {\r\n\tmargin-top: 12px;\r\n\tborder-radius: 8px;\r\n\tborder-width: 2px;\r\n\tborder-color: #222;\r\n\tborder-style: solid;\r\n\tpadding-top: 6px;\r\n\tpadding-bottom: 6px;\r\n\tbackground-color: #eee;\r\n\tline-height: 1.6em;\r\n}\r\n\r\n.hidden {\r\n\tdisplay: none;\r\n}\r\n\r\n#hysteresis-threshold-range {\r\n\twidth: 85%;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n\tmargin-top: 8px;\r\n\tbackground: orange;\r\n\theight: 8px;\r\n}\r\n\r\n#canny-params div {\r\n\tmargin-bottom: 12px;\r\n}\r\n\r\n.ui-widget-header {\r\n\tbackground: #888 !important;\r\n}\r\n\r\n.ui-slider-handle {\r\n\tbackground: white !important;\r\n\tborder-color: black !important;\r\n\tcolor: black !important;\r\n\ttop: -8px !important;\r\n\tpadding-bottom: 4px !important;\r\n}\r\n\r\n/* #hysteresis-threshold-range-container { */\r\n/* } */\r\n\r\n/* #progress-container { */\r\n/* \twidth: 100%; */\r\n/* \tbackground-color: #aaa; */\r\n/* \theight: 16px; */\r\n/* \tmargin-top: 4px; */\r\n/* \tborder-width: 2px; */\r\n/* \tborder-radius: 4px; */\r\n/* \tborder-style: solid; */\r\n/* \tborder-color: #ddd; */\r\n/* } */\r\n\r\n/* #progress { */\r\n/* \tbackground-color: orange; */\r\n/* \theight: 16px; */\r\n/* } */\r\n\r\n/* #slider-container { */\r\n/* \tmargin-top: 12px; */\r\n/* } */\r\n\r\n/*  slider styling follows */\r\ninput[type='range'] {\r\n\t-webkit-appearance: none;\r\n\twidth: 65%;\r\n\tmargin-left: 12px;\r\n\tbackground: transparent;\r\n}\r\n\r\ninput[type='range']::-webkit-slider-thumb {\r\n\t-webkit-appearance: none;\r\n}\r\n\r\ninput[type='range']:focus {\r\n\toutline: none;\r\n}\r\n\r\ninput[type='range']::-ms-track {\r\n\twidth: 100%;\r\n\tcursor: pointer;\r\n\tbackground: transparent;\r\n\tborder-color: transparent;\r\n\tcolor: transparent;\r\n}\r\n\r\ninput[type='range']::-webkit-slider-thumb {\r\n\t-webkit-appearance: none;\r\n\tborder: 1px solid black;\r\n\theight: 18px;\r\n\twidth: 8px;\r\n\tborder-radius: 3px;\r\n\tbackground: white;\r\n\tcursor: pointer;\r\n\tmargin-top: -6px;\r\n\tbox-shadow: 1px 1px 1px black, 0px 0px 1px #0d0d0d;\r\n}\r\n\r\ninput[type='range']::-moz-range-thumb {\r\n\tbox-shadow: 1px 1px 1px black, 0px 0px 1px #0d0d0d;\r\n\tborder: 1px solid black;\r\n\theight: 36px;\r\n\twidth: 16px;\r\n\tborder-radius: 3px;\r\n\tbackground: white;\r\n\tcursor: pointer;\r\n}\r\n\r\ninput[type='range']::-ms-thumb {\r\n\tbox-shadow: 1px 1px 1px black, 0px 0px 1px #0d0d0d;\r\n\tborder: 1px solid black;\r\n\theight: 18px;\r\n\twidth: 8px;\r\n\tborder-radius: 3px;\r\n\tbackground: white;\r\n\tcursor: pointer;\r\n}\r\n\r\ninput[type='range']::-webkit-slider-runnable-track {\r\n\twidth: 100%;\r\n\theight: 8.4px;\r\n\tcursor: pointer;\r\n\tbox-shadow: 1px 1px 1px black, 0px 0px 1px #0d0d0d;\r\n\tbackground: orange;\r\n\tborder-radius: 1.3px;\r\n\tborder: 0.2px solid #010101;\r\n}\r\n\r\ninput[type='range']:focus::-webkit-slider-runnable-track {\r\n\tbackground: orange;\r\n}\r\n\r\ninput[type='range']::-moz-range-track {\r\n\twidth: 100%;\r\n\theight: 8.4px;\r\n\tcursor: pointer;\r\n\tbox-shadow: 1px 1px 1px black, 0px 0px 1px #0d0d0d;\r\n\tbackground: orange;\r\n\tborder-radius: 1.3px;\r\n\tborder: 0.2px solid #010101;\r\n}\r\n\r\ninput[type='range']::-ms-track {\r\n\twidth: 100%;\r\n\theight: 8.4px;\r\n\tcursor: pointer;\r\n\tbackground: transparent;\r\n\tborder-color: transparent;\r\n\tborder-width: 16px 0;\r\n\tcolor: transparent;\r\n}\r\n\r\ninput[type='range']::-ms-fill-lower {\r\n\tbackground: orange;\r\n\tborder: 0.2px solid #010101;\r\n\tborder-radius: 2.6px;\r\n\tbox-shadow: 1px 1px 1px black, 0px 0px 1px #0d0d0d;\r\n}\r\n\r\ninput[type='range']:focus::-ms-fill-lower {\r\n\tbackground: orange;\r\n}\r\n\r\ninput[type='range']::-ms-fill-upper {\r\n\tbackground: orange;\r\n\tborder: 0.2px solid #010101;\r\n\tborder-radius: 2.6px;\r\n\tbox-shadow: 1px 1px 1px black, 0px 0px 1px #0d0d0d;\r\n}\r\n\r\ninput[type='range']:focus::-ms-fill-upper {\r\n\tbackground: orange;\r\n}\r\n</style>\r\n","import { render } from \"./App.vue?vue&type=template&id=5d44d5cc\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=5d44d5cc&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\n\r\ncreateApp(App).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdoodler_vue\"] = self[\"webpackChunkdoodler_vue\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(238); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","_createElementVNode","key","_createTextVNode","type","src","_hoisted_19","_createStaticVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onChange","_cache","args","$options","setImageFile","_hoisted_5","$data","isImageLoaded","_hoisted_6","name","value","updateContrast","checked","_hoisted_7","min","max","onClick","_createCommentVNode","isContrastComputed","_hoisted_8","_hoisted_9","setEdgeDetectionType","isShowCannyParams","_hoisted_10","_hoisted_11","_toDisplayString","gaussianSigma","toFixed","_hoisted_12","onInput","setGaussianSigmaRange","detectEdges","isEdgesComputed","_hoisted_13","isContourDrawn","saveImage","_hoisted_14","contourRadius","_hoisted_15","setContourRadiusRange","_hoisted_16","_hoisted_17","drawContours","reset","isInProgress","_hoisted_18","_hoisted_20","_hoisted_21","gaussianSigmaDefault","black","white","hysteresisThresholds","low","high","data","edgeDetectionType","previewContext","outputContext","inputContext","inputCanvas","previewCanvas","edgePoints","img","edgeImg","methods","link","document","createElement","base64","this","outputCanvas","toDataURL","setAttribute","click","copyToPreview","console","log","setTimeout","radius","isFuzzy","getElementById","fillStyle","point","grd","createRadialGradient","addColorStop","beginPath","arc","Math","PI","fill","setPixel","clearRect","width","height","repaint","edgeAlgorithm","async","imageData","getImageData","x","y","isBlack","getPixel","push","image","Image","load","gray","options","gaussianBlur","lowThreshold","highThreshold","edge","CannyEdgeDetector","fillRect","isWhite","querySelector","initHysteresisRange","parseInt","pow","window","FileReader","alert","input","files","file","fr","onload","result","err","error","readAsDataURL","contrast","contrastType","cutoff","offset","color","red","green","blue","hsv","rgb2hsv","r","g","b","minRGB","maxRGB","computedV","d","h","computedH","computedS","context","pixel","imageDimensions","drawImage","computed","mounted","f","c","getComputedStyle","innerWidth","innerHeight","getContext","addEventListener","__exports__","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","splice","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}